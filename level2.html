<!-- Game Design Project #3 ~ Super Pipe Example Level 2 -->
<!-- Copyright (c) 2015 Simply Coding see LICENSE for usage information -->

<!DOCTYPE html>
<html>
  <head>
  <meta charset="UTF-8">
  <title> Super Pipe Example </title>

    <script src="simply.js"> </script>
    <script>

 function start()
 {
  // Added Level 2
	var canJump = true, jumpPower = 10;
  var score = 0;

	sjs.open("target", 800, 500);

  // Added level 2
	sjs.makeStage("design");

	var background = new sjs.Image("images/field.jpg");
	background.setSize(2500,sjs.getHeight());

	var player = new sjs.Image("images/guy_left.png", 48, 66);
	player.type="player";

	player.setGravity();

  // Added Level 2
	player.setHFlipImages('images/guy_left.png', 'images/guy_right.png');

	sjs.scrollable(player,background);

  // Updated Level 2
	sjs.keyDown(LEFT_KEY, function(){player.faceLeft();   player.pushLeft(.5);});
	sjs.keyDown(RIGHT_KEY, function(){player.faceRight(); player.pushRight(.5);});

	sjs.keyDown(UP_KEY, function(){
          if(canJump){
            player.pushUp(jumpPower);
            canJump=false;
            setTimeout(function(){canJump=true;},1000);
          }
        });
  // End Updated


  // Added Level 2
  var score_obj = new sjs.Text("Score: 0",22,"orange");
  score_obj.makeGlobal();
  score_obj.bottom().right();
  score_obj.offset(-15,-15);
}
    </script>

  </head>

<body onload="start()"> <!-- The start function is called when the page is loaded  -->

   <!-- This is where our game will be on the page -->
   <div id="target" style="margin:auto; background-color: lightgrey;"></div>

</body>
</html>
